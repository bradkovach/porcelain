{"version":3,"sources":["node_modules/tslib/tslib.es6.js","ng://porcelain/lib/refiners/IOption.ts","ng://porcelain/lib/simple-refiner/simple-refiner.component.ts","ng://porcelain/lib/truncate/truncate.component.ts","ng://porcelain/lib/truncate/truncate.module.ts","ng://porcelain/lib/simple-refiner/simple-refiner.module.ts","ng://porcelain/lib/shared/animations/slideInOut.trigger.ts","ng://porcelain/lib/date-refiner/date-refiner.component.ts","ng://porcelain/lib/date-refiner/date-refiner.module.ts","ng://porcelain/lib/refiners/refiners.component.ts","ng://porcelain/lib/refiners/refiners.module.ts","ng://porcelain/lib/refiners/IOptions.ts","ng://porcelain/lib/refiners/IRefiner.ts","ng://porcelain/lib/refiners/IRefinerValue.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","__spread","arguments","length","concat","SimpleOption","simpleOption","badge","label","slug","isSelected","DateOption","dateOptionDefinition","_this","_super","returnNull","getFrom","getTo","tslib_1.__extends","SimpleRefinerComponent","onRefinerChange","EventEmitter","faChevronDown","faCaretDown","contractIcon","faChevronUp","expandIcon","defineProperty","_showCount","refiner","showCount","newCount","_isOpen","newIsOpenValue","_isExpanded","newIsExpandedValue","ngOnInit","isOpen","isExpanded","selectNone","options","optionSlug","option","console","selected","_a","__values","tslib_1.__values","_b","toggleExpanded","toggleOpen","countTail","keys","canExpand","type","getExpandedOptionKeys","slice","optionHasBadge","getOptionLabel","getOptionBadge","toLocaleString","getValue","filter","key","canSelectNone","every","paramName","setAll","canSelectAll","selectAll","optionKey","onSelectionChange","emit","Component","args","selector","template","Input","Output","TruncateComponent","TRUNCATE_DIRECTIVES","TruncateModule","NgModule","imports","CommonModule","declarations","exports","SIMPLE_REFINER_DIRECTIVES","SIMPLE_REFINER_IMPORTS","FormsModule","BrowserAnimationsModule","FontAwesomeModule","SimpleRefinerModule","defaultOpenStyle","height","overflow","defaultClosedStyle","generateSlideInOut","triggerName","openStyle","closedStyle","animationDurationMs","trigger","state","style","transition","group","animate","momentFloor","animation","arg1","arg2","moment","set","momentFloorSubtract","subtract","momentFloorAdd","add","defaultDateOptions","-1","1","toDate","7","30","90","custom","toString","fromString","DateRefinerComponent","objectKeys","onChange","dateOptionOrDate","selectedOption","currentOptionSlug","from","startString","to","endString","DATE_REFINER_DIRECTIVES","DATE_REFINER_IMPORTS","DateRefinerModule","RefinersComponent","onRefinersChange","values","handleRefinerChange","update","log","setValue","toQueryString","reduce","result","paramKey","isArray","encodeURIComponent","map","val","join","nestedKey","valueToEncode","Date","toJSON","REFINERS_DIRECTIVES","REFINERS_IMPORTS","RefinersModule","SimpleOptions","RefinerBase","refinerDefinition","title","SimpleRefiner","DateRefiner","dateRefiner","DateRefinerValue"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export interface ISimpleOption {\r\n\tbadge?: string | number;\r\n\tlabel: string;\r\n\tslug: string;\r\n\tisSelected?: boolean;\r\n}\r\n\r\nexport class SimpleOption implements ISimpleOption {\r\n\t/**\r\n\t * A badge can be shown next to the label.  A badge can be used to indicate how many records an Option represents\r\n\t *\r\n\t * @example\r\n\t * \t\t[X] In Progress\t\t2,900\t{\tslug: 'inProgress'; \tisSelected: true;\tbadge: 2900 }\r\n\t * \t\t[ ] On Hold\t\t\t2,500\t{\tslug: 'onHold'\t\t\tisSelected: false;\tbadge: 2500 }\r\n\t * \t\t[ ] Slipping\t\t500\t\t{\tslug: 'slipping';\t\tisSelected: false;\tbadge: 500 }\r\n\t */\r\n\tbadge?: string | number;\r\n\r\n\t/**\r\n\t * A translated, human-readable label representing of the option.\r\n\t */\r\n\tlabel: string;\r\n\r\n\t/**\r\n\t * A keyable, serializable name/representation of the Option, such as 'inProgress'\r\n\t */\r\n\tslug: string;\r\n\r\n\t/**\r\n\t * A default value for the option.\r\n\t */\r\n\tisSelected?: any;\r\n\r\n\t/**\r\n\t * Create an instance of Option from an IOption. If incoming IOption fields are present, they will be set.\r\n\t * @param {ISimpleOption} simpleOption\r\n\t * @memberof Option\r\n\t */\r\n\tconstructor(simpleOption?: ISimpleOption) {\r\n\t\tif (simpleOption) {\r\n\t\t\tthis.badge = simpleOption.badge ? simpleOption.badge : null;\r\n\t\t\tthis.label = simpleOption.label ? simpleOption.label : '';\r\n\t\t\tthis.slug = simpleOption.slug ? simpleOption.slug : '';\r\n\t\t\tthis.isSelected = simpleOption.isSelected ? simpleOption.isSelected : null;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport interface IDateOption extends ISimpleOption {\r\n\tgetFrom: (fromString?: string) => Date;\r\n\tgetTo: (toString?: string) => Date;\r\n}\r\n\r\n/**\r\n * Represents a date range option within a Date Refiner\r\n *\r\n * @example\r\n * ```typescript\r\n * \timport { DateOption } from '../path/to/IOption.ts'\r\n *\r\n * \t@Component({})\r\n * \texport class MyComponent {\r\n * \t\tmodifiedOnRefiner = {\r\n * \t\t\tdateOptionSlug: new DateOption({\r\n * \t\t\t\tbadge: '1',\r\n * \t\t\t\tlabel: 'Modified on...',\r\n * \t\t\t\tslug: 'modified',\r\n * \t\t\t\tvalue: false,\r\n * \t\t\t\tgetFrom: () => getYesterday(),\r\n * \t\t\t\tgetTo: () => getToday()\r\n * \t\t\t})\r\n * \t\t};\r\n * \t}\r\n * ```\r\n *\r\n * And then in\r\n */\r\nexport class DateOption extends SimpleOption implements IDateOption {\r\n\r\n\t/**\r\n\t * Function to generate the start value for the date refiner range.  If no start value, return null.\r\n\t */\r\n\tgetFrom: (fromString: string) => Date;\r\n\r\n\t/**\r\n\t * Function to generate the end (to) value for the date refiner range. If no end value is needed, return null.\r\n\t *\r\n\t * @param toString {string} A string to parse, representing the later date.\r\n\t * @returns a Date object (or null) representing the value parsed from `toString`\r\n\t */\r\n\tgetTo: (toString: string) => Date;\r\n\r\n\tconstructor(dateOptionDefinition: IDateOption) {\r\n\t\tsuper(dateOptionDefinition);\r\n\r\n\t\tconst returnNull = () => null;\r\n\r\n\t\tif (dateOptionDefinition) {\r\n\t\t\tthis.getFrom = dateOptionDefinition.getFrom || returnNull;\r\n\t\t\tthis.getTo = dateOptionDefinition.getTo || returnNull;\r\n\t\t}\r\n\t}\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport {\n\tfaCaretDown,\n\tfaChevronDown,\n\tfaChevronUp\n} from '@fortawesome/free-solid-svg-icons';\n\n// Porcelain\nimport { SimpleOption } from '../refiners/IOption';\nimport { SimpleRefiner } from '../refiners/IRefiner';\nimport { blockInitialAnimation } from '../shared/animations/blockInitialAnimation.trigger';\nimport { optionsInOut } from '../shared/animations/slideInOut.trigger';\n\nexport const defaultOptionShowCount = 5;\n\n\n@Component({\n\tselector: 'porcelain-simple-refiner',\n\ttemplateUrl: './simple-refiner.component.html',\n\tstyleUrls: ['./simple-refiner.component.scss'],\n\t//animations: [blockInitialAnimation, optionsInOut]\n})\nexport class SimpleRefinerComponent implements OnInit {\n\t// Inputs\n\t@Input() refiner: SimpleRefiner;\n\t@Input('showCount') _showCount: number;\n\t@Input('isOpen') _isOpen: boolean;\n\t@Input('isExpanded') _isExpanded: boolean;\n\n\t// Getters\n\tget showCount() {\n\t\treturn this._showCount || this.refiner.showCount || 5;\n\t}\n\n\tset showCount(newCount: number) {\n\t\tthis._showCount = newCount;\n\t}\n\n\tget isOpen() {\n\t\treturn this._isOpen;\n\t}\n\n\tset isOpen(newIsOpenValue: boolean) {\n\t\tthis._isOpen = newIsOpenValue;\n\t}\n\n\tget isExpanded(): boolean {\n\t\treturn this._isExpanded;\n\t}\n\n\tset isExpanded(newIsExpandedValue: boolean) {\n\t\tthis._isExpanded = newIsExpandedValue;\n\t}\n\n\t// Outputs\n\t@Output() onRefinerChange: EventEmitter<any> = new EventEmitter();\n\n\t// Icons\n\tfaChevronDown = faCaretDown;\n\tcontractIcon = faChevronUp;\n\texpandIcon = faChevronDown;\n\n\t// State\n\tvalue: object | SimpleOption;\n\n\tconstructor() {}\n\n\tngOnInit() {\n\t\t// Pick the `isOpen` value;\n\t\tlet isOpen = true;\n\n\t\tif (this.refiner && typeof this.refiner.isOpen === 'boolean') {\n\t\t\tisOpen = this.refiner.isOpen;\n\t\t}\n\n\t\tif (typeof this._isOpen === 'boolean') {\n\t\t\tisOpen = this._isOpen;\n\t\t}\n\n\t\tthis.isOpen = !!isOpen;\n\n\t\t// Pick the `showCount` value\n\t\tlet showCount = 5;\n\n\t\tif (this.refiner && typeof this.refiner.showCount === 'number') {\n\t\t\tshowCount = this.refiner.showCount;\n\t\t}\n\n\t\tif (typeof this._showCount === 'number') {\n\t\t\tshowCount = this._showCount;\n\t\t}\n\n\t\tthis.showCount = showCount;\n\n\t\t// Pick the `isExpanded` value\n\t\tlet isExpanded = false;\n\n\t\tif (this.refiner && typeof this.refiner.isExpanded === 'boolean') {\n\t\t\tisExpanded = this.refiner.isExpanded;\n\t\t}\n\n\t\tif (typeof this._isExpanded === 'boolean') {\n\t\t\tisExpanded = this._isExpanded;\n\t\t}\n\n\t\tthis._isExpanded = !!isExpanded;\n\n\t\t// Sets up the dictionary used for value state\n\t\tthis.selectNone();\n\n\t\t// Options can be selected on load through Option.isSelected boolean\n\t\tif (this.refiner.options) {\n\t\t\tfor (let optionSlug in this.refiner.options) {\n\t\t\t\tlet option = this.refiner.options[optionSlug];\n\n\t\t\t\tif (\n\t\t\t\t\toption instanceof SimpleOption ||\n\t\t\t\t\toption.hasOwnProperty('isSelected')\n\t\t\t\t) {\n\t\t\t\t\tif (option.slug !== optionSlug) {\n\t\t\t\t\t\tconsole.error(option);\n\t\t\t\t\t}\n\n\t\t\t\t\t// !! ensures a boolean value\n\t\t\t\t\tthis.value[optionSlug] = !!option.isSelected;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Options should be selected on load through the refiner.selected array of selected optionSlugs\n\t\tif (this.refiner.selected) {\n\t\t\tfor (let optionSlug of this.refiner.selected) {\n\t\t\t\tthis.value[optionSlug] = true;\n\t\t\t}\n\t\t}\n\t}\n\n\ttoggleExpanded(): void {\n\t\tthis._isExpanded = !this._isExpanded;\n\t}\n\n\ttoggleOpen(): void {\n\t\tthis._isOpen = !this._isOpen;\n\t}\n\n\tcountTail(): number {\n\t\treturn Object.keys(this.refiner.options).length - this._showCount;\n\t}\n\n\tcanExpand(): boolean {\n\t\treturn this.refiner.type === 'simple'\n\t\t\t? Object.keys(this.refiner.options).length > this._showCount\n\t\t\t: false;\n\t}\n\n\tgetExpandedOptionKeys(): string[] {\n\t\treturn this._isExpanded\n\t\t\t? Object.keys(this.refiner.options)\n\t\t\t: Object.keys(this.refiner.options).slice(0, this._showCount);\n\t}\n\n\toptionHasBadge(option: string | SimpleOption): boolean {\n\t\tif (typeof option === 'string') {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn option.badge && option.badge !== '';\n\t\t}\n\t}\n\n\tgetOptionLabel(option: string | SimpleOption): string {\n\t\tif (typeof option === 'string') {\n\t\t\treturn option;\n\t\t} else {\n\t\t\treturn option.label;\n\t\t}\n\t}\n\tgetOptionBadge(option: SimpleOption) {\n\t\tif (typeof option.badge === 'number')\n\t\t\treturn option.badge.toLocaleString();\n\t\telse return option.badge;\n\t}\n\n\tgetValue(): string[] {\n\t\treturn Object.keys(this.value).filter(key => this.value[key]);\n\t}\n\n\tcanSelectNone(): boolean {\n\t\treturn Object.keys(this.value).every(\n\t\t\tparamName => this.value[paramName] === true\n\t\t);\n\t}\n\n\tselectNone() {\n\t\tthis.setAll(false);\n\t}\n\n\tcanSelectAll(): boolean {\n\t\treturn !this.canSelectNone();\n\t}\n\n\tselectAll() {\n\t\treturn this.setAll(true);\n\t}\n\n\tsetAll(value: any) {\n\t\tif (this.refiner.type === 'simple') {\n\t\t\tthis.value = {};\n\t\t\tfor (let optionKey in this.refiner.options) {\n\t\t\t\tthis.value[optionKey] = value;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.value = value;\n\t\t}\n\t\tthis.onSelectionChange();\n\t}\n\n\tonSelectionChange() {\n\t\tthis.onRefinerChange.emit([this.refiner.slug, this.getValue()]);\n\t}\n}\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n\tselector: 'app-truncate',\n\ttemplateUrl: './truncate.component.html',\n\tstyleUrls: ['./truncate.component.scss']\n})\nexport class TruncateComponent implements OnInit {\n\t@Input() value: string;\n\n\tconstructor() {}\n\n\tngOnInit() {\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TruncateComponent } from './truncate.component';\n\nconst TRUNCATE_DIRECTIVES = [TruncateComponent];\n\n@NgModule({\n\timports: [CommonModule],\n\tdeclarations: TRUNCATE_DIRECTIVES,\n\texports: TRUNCATE_DIRECTIVES,\n})\nexport class TruncateModule {}\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { SimpleRefinerComponent } from './simple-refiner.component';\r\nimport { TruncateModule } from '../truncate/truncate.module';\r\n\r\nconst SIMPLE_REFINER_DIRECTIVES = [SimpleRefinerComponent];\r\n\r\nexport const SIMPLE_REFINER_IMPORTS = [\r\n\tCommonModule,\r\n\tFormsModule,\r\n\tBrowserAnimationsModule,\r\n\tFontAwesomeModule,\r\n\tTruncateModule\r\n];\r\n\r\n@NgModule({\r\n\timports: SIMPLE_REFINER_IMPORTS,\r\n\tdeclarations: SIMPLE_REFINER_DIRECTIVES,\r\n\texports: SIMPLE_REFINER_DIRECTIVES\r\n})\r\nexport class SimpleRefinerModule {}\r\n","import {\r\n\ttrigger,\r\n\tstate,\r\n\tstyle,\r\n\ttransition,\r\n\tgroup,\r\n\tanimate,\r\n\tquery,\r\n\tanimation\r\n} from '@angular/animations';\r\n\r\nconst defaultTriggerName = 'slideInOut',\r\n\tdefaultAnimationDurationMs = 200,\r\n\tdefaultOpenStyle = {\r\n\t\theight: '*',\r\n\t\toverflow: 'hidden'\r\n\t},\r\n\tdefaultClosedStyle = {\r\n\t\theight: '0',\r\n\t\toverflow: 'hidden'\r\n\t};\r\n\r\nexport const generateSlideInOut = (\r\n\ttriggerName = defaultTriggerName,\r\n\topenStyle = defaultOpenStyle,\r\n\tclosedStyle = defaultClosedStyle,\r\n\tanimationDurationMs = defaultAnimationDurationMs\r\n) =>\r\n\ttrigger(triggerName, [\r\n\t\tstate('in', style(openStyle)),\r\n\t\ttransition(':leave', [\r\n\t\t\tstyle(openStyle),\r\n\t\t\tgroup([animate(`${animationDurationMs}ms`, style(closedStyle))])\r\n\t\t]),\r\n\t\ttransition(':enter', [\r\n\t\t\tstyle(closedStyle),\r\n\t\t\tgroup([animate(`${animationDurationMs}ms`, style(openStyle))])\r\n\t\t])\r\n\t]);\r\n\r\nexport const optionsInOut = animation([generateSlideInOut('optionsInOut')]);\r\n","// Angular\nimport { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n// Font Awesome 5\nimport { faCaretDown } from '@fortawesome/free-solid-svg-icons';\n\n// Utilities\nimport moment from 'moment';\n\n// Porcelain\nimport { IDateRefiner, DateRefiner } from '../refiners/IRefiner';\nimport { DateOptions } from '../refiners/IOptions';\nimport { DateOption } from '../refiners/IOption';\nimport { blockInitialAnimation } from '../shared/animations/blockInitialAnimation.trigger';\nimport { generateSlideInOut } from '../shared/animations/slideInOut.trigger';\n\n// import { DateOption } from '../../../../src/lib/refiners/IOption';\n// import { DateOptions } from '../../../../src/lib/refiners/IOptions';\n// import { DateRefiner, IDateRefiner } from '../../../../src/lib/refiners/IRefiner';\n// import { blockInitialAnimation } from '../shared/animations/blockInitialAnimation.trigger';\n// import { generateSlideInOut } from '../shared/animations/slideInOut.trigger';\n\nexport interface DateRefinerValue {\n\tfrom: Date;\n\tto: Date;\n}\n\nexport interface IDateRefinerProps {\n\tisOpen?: boolean;\n\trefiner: IDateRefiner;\n\tonRefinerChange: EventEmitter<any>;\n}\n\nconst momentFloor = (\n\targ1?: moment.DurationInputArg1,\n\targ2?: moment.DurationInputArg2\n) =>\n\tmoment()\n\t\t.set('hours', 0)\n\t\t.set('minutes', 0)\n\t\t.set('seconds', 0);\n\nconst momentFloorSubtract = (\n\targ1?: moment.DurationInputArg1,\n\targ2?: moment.DurationInputArg2\n) => momentFloor().subtract(arg1, arg2);\n\nconst momentFloorAdd = (\n\targ1?: moment.DurationInputArg1,\n\targ2?: moment.DurationInputArg2\n) => momentFloor().add(arg1, arg2);\n\nexport const defaultDateOptions: DateOptions = {\n\t// yields no range by default (unrestricted)\n\t'-1': new DateOption({\n\t\tslug: '-1',\n\t\tgetTo: () => null,\n\t\tgetFrom: () => null,\n\t\tlabel: 'View All'\n\t}),\n\n\t// select item where getFrom() <= date < getTo()\n\t'1': new DateOption({\n\t\tlabel: 'Today',\n\t\tslug: '1',\n\t\tgetTo: () => momentFloorAdd(1, 'day').toDate(),\n\t\tgetFrom: () => momentFloor().toDate()\n\t}),\n\t'7': new DateOption({\n\t\tlabel: 'Last 7 Days',\n\t\tslug: '7',\n\t\tgetTo: () => momentFloorAdd(1, 'day').toDate(),\n\t\tgetFrom: () => momentFloorSubtract(7, 'days').toDate()\n\t}),\n\t'30': new DateOption({\n\t\tlabel: 'Last 30 Days',\n\t\tslug: '30',\n\t\tgetTo: () => momentFloorAdd(1, 'day').toDate(),\n\t\tgetFrom: () => momentFloorSubtract(30, 'days').toDate()\n\t}),\n\t'90': new DateOption({\n\t\tlabel: 'Last 90 Days',\n\t\tslug: '90',\n\t\tgetTo: () => momentFloorAdd(1, 'day').toDate(),\n\t\tgetFrom: () => momentFloorSubtract(90, 'days').toDate()\n\t}),\n\tcustom: new DateOption({\n\t\tisSelected: true,\n\t\tlabel: 'Date Range...',\n\t\tslug: 'custom',\n\t\tgetTo: (toString?: string) => moment(toString).toDate(),\n\t\tgetFrom: (fromString?: string) => moment(fromString).toDate()\n\t})\n};\n\nconst animationOptionsInOut = generateSlideInOut('optionsInOut'),\n\tanimationRangeInOut = generateSlideInOut('rangeInOut');\n\n@Component({\n\tselector: 'porcelain-date-refiner',\n\ttemplateUrl: './date-refiner.component.html',\n\tstyleUrls: ['./date-refiner.component.scss'],\n\t// animations: [\n\t// \tblockInitialAnimation,\n\t// \tanimationOptionsInOut,\n\t// \tanimationRangeInOut\n\t// ]\n})\nexport class DateRefinerComponent implements OnInit, IDateRefinerProps {\n\t// Inputs\n\t@Input() isOpen: boolean = true;\n\t@Input() refiner: DateRefiner;\n\n\t// Outputs\n\t@Output() onRefinerChange: EventEmitter<any> = new EventEmitter();\n\n\t// Icons\n\tfaChevronDown = faCaretDown;\n\n\t// Constants\n\toptions: DateOptions = defaultDateOptions;\n\n\t// Angular\n\tobjectKeys = Object.keys;\n\n\t// State\n\tcurrentOptionSlug: string;\n\tstartString: string;\n\tendString: string;\n\n\tconstructor() {}\n\n\t// Events\n\tonChange() {\n\t\tthis.onRefinerChange.emit([this.refiner.slug, this.getValue()]);\n\t}\n\n\t// States\n\toptionHasBadge(dateOptionOrDate: DateOption | Date): boolean {\n\t\treturn (\n\t\t\tdateOptionOrDate instanceof DateOption &&\n\t\t\ttypeof dateOptionOrDate.badge !== 'undefined'\n\t\t);\n\t}\n\n\t// Getters\n\tgetValue(): DateRefinerValue {\n\t\tconst selectedOption = this.options[this.currentOptionSlug];\n\t\treturn {\n\t\t\tfrom:\n\t\t\t\tselectedOption instanceof DateOption\n\t\t\t\t\t? selectedOption.getFrom(this.startString)\n\t\t\t\t\t: selectedOption,\n\t\t\tto:\n\t\t\t\tselectedOption instanceof DateOption\n\t\t\t\t\t? selectedOption.getTo(this.endString)\n\t\t\t\t\t: selectedOption\n\t\t};\n\t}\n\n\tgetOptionLabel(option: DateOption): string {\n\t\tif( option instanceof DateOption ) {\n\t\t\tif( option.label ) {\n\t\t\t\treturn option.label\n\t\t\t}\n\t\t}\n\t}\n\n\tgetOptionBadge(option: DateOption | Date): string {\n\t\tif (option instanceof DateOption) {\n\t\t\tif (option.badge) {\n\t\t\t\tif (typeof option.badge === 'number') {\n\t\t\t\t\treturn option.badge.toLocaleString();\n\t\t\t\t} else {\n\t\t\t\t\treturn option.badge;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t}\n\n\t// Mutators\n\ttoggleOpen() {\n\t\tthis.isOpen = !this.isOpen;\n\t}\n\n\tngOnInit() {\n\n\t\tthis.options = this.refiner.options\n\t\t\t? this.refiner.options\n\t\t\t: defaultDateOptions;\n\n\t\tfor (let optionSlug in this.options) {\n\t\t\tlet option = this.options[optionSlug];\n\t\t\tif (option instanceof DateOption) {\n\t\t\t\tif (option.isSelected === true) {\n\t\t\t\t\tthis.currentOptionSlug = optionSlug;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.onChange();\n\t}\n}\n","import { CommonModule } from \"@angular/common\";\r\nimport { NgModule } from \"@angular/core\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\r\nimport { FontAwesomeModule } from \"@fortawesome/angular-fontawesome\";\r\n\r\n// Porcelain/truncate\r\nimport { TruncateModule } from \"../truncate/truncate.module\";\r\n\r\n// DateRefiner\r\nimport { DateRefinerComponent } from \"./date-refiner.component\";\r\n\r\n\r\n\r\nconst DATE_REFINER_DIRECTIVES = [DateRefinerComponent];\r\n\r\nexport const DATE_REFINER_IMPORTS = [\r\n\tCommonModule,\r\n\tFormsModule,\r\n\tFontAwesomeModule,\r\n\tBrowserAnimationsModule,\r\n\tTruncateModule\r\n];\r\n\r\n@NgModule({\r\n\timports: DATE_REFINER_IMPORTS,\r\n\tdeclarations: DATE_REFINER_DIRECTIVES,\r\n\texports: DATE_REFINER_DIRECTIVES\r\n})\r\nexport class DateRefinerModule {}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { RefinerBase } from './IRefiner';\n\n@Component({\n\tselector: 'porcelain-refiners',\n\ttemplateUrl: './refiners.component.html',\n\tstyleUrls: ['./refiners.component.scss']\n})\nexport class RefinersComponent implements OnInit {\n\t// Inputs\n\t@Input() refiners: RefinerBase[];\n\n\t// Outputs\n\t@Output() onRefinersChange: EventEmitter<any> = new EventEmitter()\n\n\t// Icons\n\n\t// State\n\tvalues: { [slug: string]: string[] } = {};\n\n\tconstructor() {}\n\n\tngOnInit() {\n\t}\n\n\thandleRefinerChange(update: [string, any ]) {\n\t\tlet [slug, selected] = update;\n\t\tconsole.log(`${slug} refiner updated with value`, selected);\n\n\t\tthis.setValue(slug, selected);\n\t}\n\n\tsetValue(slug: string, value: any) {\n\t\tthis.values[slug] = value;\n\t\tthis.onRefinersChange.emit(this.values)\n\t}\n\n\ttoQueryString(): string {\n\t\treturn Object.keys(this.values)\n\t\t\t.reduce((result, paramKey) => {\n\t\t\t\tif ( // None are selected, return result so far\n\t\t\t\t\tArray.isArray(this.values[paramKey]) &&\n\t\t\t\t\tthis.values[paramKey].length === 0\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t} else if ( // Some are selected, return result + new options\n\t\t\t\t\tArray.isArray(this.values[paramKey]) &&\n\t\t\t\t\tthis.values[paramKey].length > 0\n\t\t\t\t) {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...result,\n\t\t\t\t\t\tencodeURIComponent(paramKey) +\n\t\t\t\t\t\t\t'=' +\n\t\t\t\t\t\t\tthis.values[paramKey]\n\t\t\t\t\t\t\t\t.map(val => encodeURIComponent(val))\n\t\t\t\t\t\t\t\t.join(',')\n\t\t\t\t\t];\n\t\t\t\t} else if ( // Is an object, like a dictionary (start, end date)\n\t\t\t\t\ttypeof this.values[paramKey] === 'object'\n\t\t\t\t) {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...result,\n\t\t\t\t\t\tObject.keys(this.values[paramKey])\n\t\t\t\t\t\t\t.map(nestedKey => {\n\t\t\t\t\t\t\t\tlet valueToEncode =\n\t\t\t\t\t\t\t\t\tthis.values[paramKey][nestedKey] instanceof\n\t\t\t\t\t\t\t\t\tDate\n\t\t\t\t\t\t\t\t\t\t? this.values[paramKey][\n\t\t\t\t\t\t\t\t\t\t\t\tnestedKey\n\t\t\t\t\t\t\t\t\t\t  ].toJSON()\n\t\t\t\t\t\t\t\t\t\t: this.values[paramKey][nestedKey];\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t`${encodeURIComponent(\n\t\t\t\t\t\t\t\t\t\tparamKey\n\t\t\t\t\t\t\t\t\t)}[${encodeURIComponent(nestedKey)}]` +\n\t\t\t\t\t\t\t\t\t'=' +\n\t\t\t\t\t\t\t\t\tencodeURIComponent(valueToEncode)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.join('&')\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t}, [])\n\t\t\t.join('&');\n\t}\n}\n","import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RefinersComponent } from './refiners.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DateRefinerModule } from '../date-refiner/date-refiner.module';\r\nimport { SimpleRefinerModule } from '../simple-refiner/simple-refiner.module';\r\n\r\nconst REFINERS_DIRECTIVES = [RefinersComponent];\r\n\r\nexport const REFINERS_IMPORTS = [\r\n\tCommonModule,\r\n\tFormsModule,\r\n\tDateRefinerModule,\r\n\tSimpleRefinerModule,\r\n\tBrowserAnimationsModule\r\n];\r\n\r\n@NgModule({\r\n\timports: REFINERS_IMPORTS,\r\n\texports: REFINERS_DIRECTIVES,\r\n\tdeclarations: REFINERS_DIRECTIVES\r\n})\r\nexport class RefinersModule {}\r\n","import { SimpleOption, DateOption, ISimpleOption, IDateOption } from \"./IOption\";\r\n\r\nexport interface ISimpleOptions<OptionType = ISimpleOption, ValueType = string> {\r\n\t[optionSlug: string]: ValueType | OptionType;\r\n}\r\nexport class SimpleOptions<OptionType = SimpleOption, ValueType = string>\r\n\timplements ISimpleOptions<OptionType, ValueType> {\r\n\t[optionSlug: string]: ValueType | OptionType;\r\n}\r\n\r\nexport type IDateOptions = ISimpleOptions<IDateOption, IDateOption>;\r\nexport type DateOptions = SimpleOptions<DateOption, DateOption>;\r\n","import { SimpleOption } from './IOption';\r\nimport { DateOptions, IDateOptions, ISimpleOptions, SimpleOptions } from './IOptions';\r\nimport { RefinerValue } from './IRefinerValue';\r\n\r\nexport interface IRefinerBase {\r\n\ttype?: 'simple' | 'date';\r\n\ttitle?: string;\r\n\tslug?: string;\r\n\tisOpen?: boolean;\r\n\tisExpanded?: boolean;\r\n\tshowCount?: number;\r\n\toptions?: ISimpleOptions<any, any>;\r\n\tvalue?: RefinerValue;\r\n}\r\n\r\nexport abstract class RefinerBase implements IRefinerBase {\r\n\t/**\r\n\t * Refiner type discriminator.  Allows refiners to be JSON serialized\r\n\t */\r\n\ttype: 'simple' | 'date' = 'simple';\r\n\r\n\t/**\r\n\t * Localized string to be shown as a human-readable title for the Refiner\r\n\t *\r\n\t * @type {string}\r\n\t * @memberof Refiner\r\n\t */\r\n\ttitle: string;\r\n\r\n\t/**\r\n\t * A \"keyable\" value that is unique within a refiner set.  Usually the name of a property.\r\n\t *\r\n\t * @type {string}\r\n\t * @memberof Refiner\r\n\t */\r\n\tslug: string;\r\n\r\n\t/**\r\n\t * Dictionary of optionSlug => label or optionSlug => RefinerOption\r\n\t *\r\n\t * @type {SimpleOptions}\r\n\t * @memberof RefinerDefinition\r\n\t */\r\n\toptions?: SimpleOptions<SimpleOption, any>;\r\n\r\n\t/**\r\n\t * True when the Refiner is to be shown in its open state.\r\n\t *\r\n\t * @type {boolean}\r\n\t * @memberof Refiner\r\n\t */\r\n\tisOpen?: boolean = true;\r\n\r\n\t/**\r\n\t * Provide a value if the refiner should initialize with a value.\r\n\t *\r\n\t * @type {RefinerValue}\r\n\t * @memberof Refiner\r\n\t */\r\n\tvalue: RefinerValue;\r\n\r\n\t/**\r\n\t * Number of options to show in the refiner in the un-expanded state. Default is 5\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\tshowCount?: number;\r\n\r\n\tconstructor(refinerDefinition: IRefinerBase) {\r\n\t\tthis.type = refinerDefinition.type ? refinerDefinition.type : 'simple';\r\n\t\tthis.title = refinerDefinition.title ? refinerDefinition.title : '';\r\n\t\tthis.slug = refinerDefinition.slug ? refinerDefinition.slug : '';\r\n\t\tthis.options = refinerDefinition.options ? refinerDefinition.options : {};\r\n\t\tthis.isOpen =\r\n\t\t\ttypeof refinerDefinition.isOpen === 'boolean'\r\n\t\t\t\t? refinerDefinition.isOpen\r\n\t\t\t\t: true;\r\n\r\n\t\tthis.value = refinerDefinition.value ? refinerDefinition.value : null;\r\n\t}\r\n}\r\n\r\nexport interface ISimpleRefiner extends IRefinerBase {\r\n\tselected?: string[];\r\n}\r\n\r\nexport class SimpleRefiner extends RefinerBase implements ISimpleRefiner {\r\n\t/**\r\n\t * Array of slugs to mark as selected on load.\r\n\t *\r\n\t * @type {string[]}\r\n\t */\r\n\tselected?: string[];\r\n\r\n\t/**\r\n\t * State for expanded/not expanded. When true, all options will be shown on initial render.\r\n\t *\r\n\t * @type {boolean}\r\n\t * @memberof RefinerBase\r\n\t */\r\n\tisExpanded?: boolean = false;\r\n\r\n\tconstructor(refinerDefinition: ISimpleRefiner) {\r\n\t\tsuper(refinerDefinition);\r\n\r\n\t\tthis.selected = refinerDefinition.selected ? refinerDefinition.selected : [];\r\n\t\tthis.showCount = refinerDefinition.showCount\r\n\t\t\t? refinerDefinition.showCount\r\n\t\t\t: 5;\r\n\t\tthis.isExpanded =\r\n\t\t\ttypeof refinerDefinition.isExpanded === 'boolean'\r\n\t\t\t\t? refinerDefinition.isExpanded\r\n\t\t\t\t: false;\r\n\t}\r\n}\r\n\r\nexport interface IDateRefiner extends IRefinerBase {\r\n\toptions?: IDateOptions;\r\n}\r\n\r\nexport class DateRefiner extends RefinerBase implements IDateRefiner {\r\n\treadonly type = 'date';\r\n\r\n\toptions?: DateOptions;\r\n\r\n\tconstructor(dateRefiner: IDateRefiner) {\r\n\t\tsuper(dateRefiner);\r\n\r\n\t\tif (dateRefiner) {\r\n\t\t\tthis.options = dateRefiner.options || null;\r\n\t\t}\r\n\t}\r\n}\r\n","/**\r\n * An array of option slugs to be shown as \"selected\" upon initialization\r\n */\r\nexport type OptionRefinerValue = Array<string>;\r\n\r\n/**\r\n * A simple object representing a date range.\r\n * Values left null mean there is no upper/lower limit\r\n */\r\nexport interface IDateRefinerValue {\r\n\tfrom?: Date;\r\n\tto?: Date;\r\n}\r\n\r\n/**\r\n * Class implementation of an IDateRefiner. Simple construction of a date\r\n */\r\nexport class DateRefinerValue implements IDateRefinerValue {\r\n\tfrom: Date;\r\n\tto: Date;\r\n\tconstructor(from?: Date, to?: Date) {\r\n\t\tif (from) {\r\n\t\t\tthis.from = from;\r\n\t\t}\r\n\r\n\t\tif (to) {\r\n\t\t\tthis.to = to;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport type RefinerValue = DateRefinerValue | OptionRefinerValue;\r\n"]}